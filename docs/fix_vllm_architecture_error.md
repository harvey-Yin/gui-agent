# vLLMæ¶æ„å…¼å®¹æ€§ä¿®å¤è®°å½•

## ğŸ› é—®é¢˜å¤ç›˜

**æ—¶é—´**: 2026-02-05 19:32
**ç‰ˆæœ¬å°è¯•**:
1. `latest` -> å¤±è´¥ (CUDA 12.9è¦æ±‚ï¼Œç”¨æˆ·ä»…æœ‰12.4)
2. `v0.5.4` -> å¤±è´¥ (ä¸æ”¯æŒ `qwen3_vl` æ¨¡å‹æ¶æ„)
3. `v0.7.2` -> **æ­£åœ¨å°è¯•** (ç†è®ºæ”¯æŒæ–°æ¶æ„ + å…¼å®¹CUDA 12.1+)

**é”™è¯¯ä¿¡æ¯**:
```
ValueError: The checkpoint you are trying to load has model type `qwen3_vl` but Transformers does not recognize this architecture.
```

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. å‡çº§vLLMç‰ˆæœ¬

ç”±äºMAI-UIåŸºäºå°šæœªå‘å¸ƒçš„Qwen2.5-VLæ¶æ„ï¼ˆé…ç½®ä¸­æ ‡è®°ä¸ºqwen3_vlï¼‰ï¼Œå¿…é¡»ä½¿ç”¨æœ€æ–°çš„æ¨ç†å¼•æ“ã€‚

- **æ—§ç‰ˆ**: v0.5.4 / v0.6.0 (ä¸æ”¯æŒ)
- **æ–°ç‰ˆ**: v0.7.2 (æ”¯æŒ)

### 2. Dockeré…ç½®å˜æ›´

`docker-compose.yml`:
```yaml
services:
  vllm-mai-ui:
    image: vllm/vllm-openai:v0.7.2  # å…³é”®æ›´æ–°
    # å…¶ä»–é…ç½®ä¿æŒä¸å˜ï¼ˆé’ˆå¯¹æ˜¾å­˜ä¼˜åŒ–çš„é…ç½®ï¼‰
```

## ğŸ“‰ é£é™©é¢„æ¡ˆ

å¦‚æœ v0.7.2 æ˜¾å­˜å ç”¨è¿‡é«˜å¯¼è‡´GTX 1650 Ti (4GB) å´©æºƒï¼š

**Plan A: æé™æ˜¾å­˜å‹ç¼©**
```yaml
command: >
  --gpu-memory-utilization 0.6
  --max-model-len 1024
  --quantization int8
```

**Plan B: æ”¾å¼ƒDockerï¼Œè½¬ä¸ºçº¯è„šæœ¬**
ä½¿ç”¨ `transformers` + `qwen_vl_utils` ç›´æ¥è¿è¡Œï¼Œå¯ä»¥æ›´çµæ´»åœ°æ§åˆ¶æ˜¾å­˜åŠ è½½æ–¹å¼ï¼ˆå¦‚ `device_map="auto"`ï¼‰ã€‚

---

**çŠ¶æ€**: æ­£åœ¨ä¸‹è½½ v0.7.2 é•œåƒ (9GB)...
